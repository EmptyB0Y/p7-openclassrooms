[{"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\index.js":"1","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\reportWebVitals.js":"2","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\App.js":"3","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Banner.js":"4","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Top.js":"5","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Posts.js":"6","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\services\\comments.service.js":"7","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Comments.js":"8","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\services\\posts.service.js":"9","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Login.js":"10","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\services\\credentials.service.js":"11","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Signup.js":"12","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Profile.js":"13","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\services\\profiles.service.js":"14","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\AddPost.js":"15","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Searchbar.js":"16","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\EditMainInfos.js":"17","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\EditSecondaryInfos.js":"18","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Account.js":"19","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\services\\accounts.service.js":"20","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Topics.js":"21","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\GifSearch.js":"22"},{"size":518,"mtime":1648067780148,"results":"23","hashOfConfig":"24"},{"size":362,"mtime":499162500000,"results":"25","hashOfConfig":"24"},{"size":790,"mtime":1650316563480,"results":"26","hashOfConfig":"24"},{"size":268,"mtime":1647614229381,"results":"27","hashOfConfig":"24"},{"size":5276,"mtime":1650318606063,"results":"28","hashOfConfig":"24"},{"size":8391,"mtime":1650319443672,"results":"29","hashOfConfig":"24"},{"size":1206,"mtime":1648856186486,"results":"30","hashOfConfig":"24"},{"size":6364,"mtime":1650325721236,"results":"31","hashOfConfig":"24"},{"size":1895,"mtime":1650314413435,"results":"32","hashOfConfig":"24"},{"size":1874,"mtime":1650316609319,"results":"33","hashOfConfig":"24"},{"size":864,"mtime":1648001955240,"results":"34","hashOfConfig":"24"},{"size":4005,"mtime":1648852492587,"results":"35","hashOfConfig":"24"},{"size":9436,"mtime":1650318702664,"results":"36","hashOfConfig":"24"},{"size":2368,"mtime":1650247940541,"results":"37","hashOfConfig":"24"},{"size":3730,"mtime":1650323690346,"results":"38","hashOfConfig":"24"},{"size":1698,"mtime":1648946883342,"results":"39","hashOfConfig":"24"},{"size":2319,"mtime":1649456199678,"results":"40","hashOfConfig":"24"},{"size":2002,"mtime":1650324671836,"results":"41","hashOfConfig":"24"},{"size":5731,"mtime":1649360401711,"results":"42","hashOfConfig":"24"},{"size":1476,"mtime":1649264130152,"results":"43","hashOfConfig":"24"},{"size":2477,"mtime":1649969171451,"results":"44","hashOfConfig":"24"},{"size":2473,"mtime":1650325749124,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},"f4vbj",{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"49"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"49"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"49"},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"49"},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"49"},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"49"},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"49"},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"49"},{"filePath":"112","messages":"113","suppressedMessages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"49"},{"filePath":"119","messages":"120","suppressedMessages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\index.js",[],[],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\reportWebVitals.js",[],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\App.js",[],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Banner.js",[],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Top.js",["122","123","124","125","126","127"],[],"import '../styles/Top.css'\r\nimport '../styles/App.css'\r\nimport options from '../assets/Icons/options.png'\r\nimport {Profile} from './Profile'\r\nimport {Banner} from './Banner'\r\nimport {Posts} from './Posts'\r\nimport { AddPost } from './AddPost'\r\nimport { Searchbar } from './Searchbar'\r\nimport ReactDOM from 'react-dom'\r\nimport { Account } from './Account'\r\nimport { Topics } from './Topics'\r\nimport { useEffect, useState } from 'react'\r\nimport { GetTopics } from '../services/posts.service'\r\nimport {ReactSession} from 'react-client-session'\r\n\r\nexport const Top = () =>{\r\n\r\n    const [topics,setTopics] = useState([]);\r\n    const [load,setLoad] = useState(false);\r\n\r\n    useEffect(() => {\r\n        GetTopics()\r\n        .then(data => {\r\n            setTopics(data);\r\n            setLoad(true);\r\n        })\r\n        .catch((err) => console.log(err)) \r\n      }, [])\r\n\r\n    let topicsElement = <></>;\r\n    if(load){\r\n        console.log(topics);\r\n        topicsElement = (\r\n        <ul>{topics.map((top)=>\r\n        <li className='topic' key={top.topic} id={top.topic} onClick={(e) => handleClickTopic(e)}>\r\n            <p>{top.count}#{top.topic}</p>\r\n        </li>\r\n        )}</ul>);\r\n    }\r\n    let topElement = (\r\n        <div className=\"top\">\r\n        <div id='options'>\r\n            <div id='options-anchor'>\r\n                <div id='options-padding'>\r\n                    <div className='options-link'><a onClick={handleClickAccount}>Account</a></div>\r\n                    <div className='options-link'><a onClick={handleClickTopics}>Topics</a>\r\n                        {topicsElement}\r\n                    </div>\r\n                </div>\r\n                <a href=\"#\" id=\"options-button\"><img src={options} alt=\"options\" className=\"options-icon\"></img></a>\r\n            </div>\r\n            <Searchbar />\r\n        </div>\r\n        <div className=\"navbar\">\r\n            <a href=\"#\" onClick={(e) => handleClickProfile(e)}>PROFILE</a>\r\n            <a href=\"#\" onClick={(e)=>handleClickHome(e)}>HOME</a>\r\n            <a href=\"#\" onClick={handleClickLogout} >LOG OUT</a>\r\n        </div>\r\n    </div>\r\n    );\r\n    return (\r\n        <div>\r\n            {topElement}\r\n        </div>\r\n        );\r\n\r\n    function handleClickTopics(){\r\n        ReactDOM.render(\r\n            <div className='relative'>\r\n                <div className='sticky'>\r\n                    <Banner />{topElement}\r\n                </div>\r\n                <div>\r\n                    <Topics />\r\n                </div>\r\n             </div>\r\n                ,document.getElementById('root'));\r\n    }\r\n\r\n    function handleClickTopic(e){\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        console.log(e.target);\r\n        let topicId = e.target.id;\r\n        console.log(topicId);\r\n        if(topicId === ''){\r\n            topicId = ReactDOM.findDOMNode(e.target).parentNode.id;\r\n        }\r\n        ReactDOM.render(\r\n            <div>\r\n            </div>,\r\n            document.getElementById('root')\r\n        );\r\n        setTimeout(() => {\r\n            ReactDOM.render(\r\n                <div className='relative'>\r\n                    <div className='sticky'>\r\n                        <Banner />\r\n                        {topElement}\r\n                    </div>\r\n                    <div>\r\n                        <AddPost topic={topicId} /><Posts topic={topicId}/>\r\n                    </div>\r\n                </div>\r\n                    ,document.getElementById('root'));\r\n            }, 100);\r\n    }\r\n\r\n    function handleClickAccount(){\r\n        ReactDOM.render(\r\n        <div className='relative'>\r\n            <div className='sticky'>\r\n                {topElement}\r\n            </div>\r\n            <Account />\r\n        </div>\r\n            ,document.getElementById('root'));\r\n    }\r\n\r\n    function handleClickProfile(e){\r\n        e.preventDefault();\r\n        ReactDOM.render(\r\n            <div>\r\n            </div>,\r\n            document.getElementById('root')\r\n        );\r\n        setTimeout(() => {\r\n            ReactDOM.render(\r\n                <div className='relative'>\r\n                    <div className='sticky'>\r\n                        <Banner />\r\n                        {topElement}\r\n                    </div>\r\n                    <Profile id={sessionStorage.getItem(\"userId\")} />\r\n                </div>,\r\n                document.getElementById('root')\r\n            );\r\n        }, 100);\r\n    }\r\n\r\n    function handleClickLogout() {\r\n        sessionStorage.removeItem(\"userId\");\r\n        sessionStorage.removeItem(\"token\");\r\n        ReactSession.set(\"userId\",null);\r\n        ReactSession.set(\"token\",null);\r\n        window.location.reload();\r\n    }\r\n\r\n    function handleClickHome(e) {\r\n        e.preventDefault();\r\n        ReactDOM.render(\r\n            <div>\r\n            </div>,\r\n            document.getElementById('root')\r\n        );\r\n        setTimeout(() => {\r\n            ReactDOM.render(\r\n                <div className='relative'>\r\n                    <div className='sticky'>\r\n                        <Banner />\r\n                        {topElement}\r\n                    </div>\r\n                    <div><AddPost topic='notopic'/><Posts topic=\"notopic\"/></div>\r\n                </div>,\r\n                document.getElementById('root')\r\n            );\r\n        }, 100);\r\n    }\r\n}","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Posts.js",["128","129","130","131","132","133","134","135","136","137","138","139","140"],[],"import '../styles/Posts.css'\r\nimport like from '../assets/Icons/like.png'\r\nimport dislike from '../assets/Icons/dislike.png'\r\nimport likeActive from '../assets/Icons/likeActive.png'\r\nimport dislikeActive from '../assets/Icons/dislikeActive.png'\r\nimport Trash from '../assets/Icons/Trash.webp'\r\nimport { useState, useEffect, useRef, useCallback } from 'react'\r\nimport {GetPosts,DelPost,LikePost} from '../services/posts.service'\r\nimport {SearchProfiles} from '../services/profiles.service'\r\nimport {Comments} from './Comments'\r\nimport {Top} from './Top'\r\nimport {Profile} from './Profile'\r\nimport {Banner} from './Banner'\r\n\r\nimport ReactDOM from 'react-dom'\r\n\r\nexport const Posts = (topic) => {\r\n\r\n    const [posts, setPosts] = useState([]);\r\n    const [load,setLoad] = useState(false);\r\n    const [profiles, setProfiles] = useState({});\r\n    const [iterations, setIterations] = useState(10);\r\n    const [change,setChange] = useState(false);\r\n    \r\n    const liked = {};\r\n    const disliked = {};\r\n    \r\n    liked[false] = like;\r\n    liked[true] = likeActive;\r\n    disliked[false] = dislike;\r\n    disliked[true] = dislikeActive;\r\n\r\n    const getImage = (post) =>{\r\n        if(post.imageUrl !== 'noimage'){\r\n            return (<img className='post-image' src={post.imageUrl}></img>);\r\n        }\r\n        else{\r\n            return (<></>);\r\n        }\r\n    }\r\n\r\n    const getAccess = (userId) =>{\r\n        if(profiles[userId] !== undefined){\r\n            return profiles[userId].access;\r\n        }\r\n        return(\"none\");\r\n    }\r\n\r\n    const handleClickAuthor = (profileId) =>{\r\n        ReactDOM.render(\r\n            <div className='relative'>\r\n                <div className='sticky'>\r\n                    <Banner />\r\n                    <Top />\r\n                </div>\r\n                <Profile id={profileId} />\r\n            </div>,\r\n              document.getElementById('root')\r\n        );\r\n    }\r\n\r\n    const handleClickLoadMore = () => {\r\n        setIterations((iterations+5));\r\n    }\r\n\r\n    const handleClickDelete = (e) => {\r\n        let postId = ReactDOM.findDOMNode(e.target).parentNode.id;\r\n        if(postId === ''){\r\n            postId = ReactDOM.findDOMNode(e.target).parentNode.parentNode.id\r\n        }\r\n\r\n        DelPost(postId)\r\n        .then(()=>{ refresh() });\r\n    }\r\n\r\n    const handleClickLike = (e) =>{\r\n        e.preventDefault();\r\n        let postId = String(e.target.parentNode.id).substring(5);\r\n        LikePost(postId,1)\r\n        .then(()=>{ refresh() });\r\n    }\r\n\r\n    const handleClickDislike = (e) =>{\r\n        e.preventDefault();\r\n        let postId = String(e.target.parentNode.id).substring(8);\r\n        console.log(postId);\r\n        LikePost(postId,-1)\r\n        .then(()=>{ refresh() });\r\n    }\r\n\r\n    const refresh = () => {\r\n        setChange(!change);\r\n    }\r\n\r\n    const formatContent = (text) =>{\r\n        const tab = text.split(' ');\r\n        let content = [];\r\n        console.log(tab);\r\n        let string = '';\r\n        for(let i = 0; i < tab.length; i++){\r\n            if(tab[i].startsWith(':') && tab[i].endsWith(':')){\r\n                content.push((<p>{string}</p>));\r\n                string = '';\r\n                content.push((<img src={tab[i].substring(1,tab[i].length-1)}></img>));\r\n            }\r\n            else{\r\n                string += ' '+tab[i];\r\n            }\r\n        }\r\n\r\n        if(string !== ''){\r\n            content.push((<p>{string}</p>));\r\n        }\r\n\r\n        return (<div>\r\n            {content.map((el)=>el)}\r\n        </div>);\r\n    }\r\n\r\n      useEffect(() => {\r\n        console.log(topic.topic);\r\n        GetPosts(topic.topic)\r\n        .then(data => setPosts(data))\r\n        .catch((err) => console.log(err)) \r\n      }, [change])\r\n\r\n      useEffect(() => {\r\n        if(posts !== null){\r\n            let authorUserIds = []\r\n            for(let i = 0; i < posts.length; i++){\r\n                if(!(authorUserIds.includes(posts[i].userId))){\r\n                    authorUserIds.push(posts[i].userId);\r\n                }\r\n            }\r\n            authorUserIds.push(sessionStorage.getItem(\"userId\"));\r\n\r\n            SearchProfiles(authorUserIds)\r\n            .then(data => {\r\n                setProfiles(data);\r\n                if(posts.length > 0){\r\n                    setLoad(true);\r\n                }       \r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n    }, [posts])\r\n\r\n    let postsElement = (<div>\"Loading...\"</div>)\r\n\r\n    if(load){\r\n        let deletePostElement = {};\r\n        deletePostElement[sessionStorage.getItem(\"userId\")] = (<button className='delete-post' onClick={(e) => handleClickDelete(e)}><img className='delete-post-icon' src={Trash} width='10' height='10'></img></button>);\r\n        if(getAccess(sessionStorage.getItem(\"userId\")) === \"admin\"){\r\n            for(let i = 0;i < posts.length; i++){\r\n                deletePostElement[posts[i].userId] = deletePostElement[sessionStorage.getItem(\"userId\")];\r\n            }\r\n        }\r\n        postsElement = (\r\n            <ul>\r\n              {posts.slice(0,iterations).reverse().map((post) =>\r\n                <li className='post' key={post.uid}>\r\n                    <div className='post-title'>\r\n                        <div className='post-author'>\r\n                            <div className='post-title-picture-frame'>\r\n                                <img className='post-title-picture' src={profiles[post.userId].pictureUrl}></img>\r\n                            </div>\r\n                            <a onClick={() => handleClickAuthor(post.userId)}>{profiles[post.userId].firstname} {profiles[post.userId].lastname}</a>\r\n                        </div>\r\n                        <div id={post.uid}>\r\n                          {deletePostElement[post.userId]}\r\n                        </div>\r\n                      </div>\r\n                    <div className='post-content'>\r\n                        {formatContent(post.content)}\r\n                  </div>\r\n                  <div className='post-image-frame'>\r\n                        {getImage(post)}\r\n                  </div>\r\n                  <div className='post-reviews'>\r\n                      <div className='post-reviews-row'>\r\n                          <div className='likes-dislikes'>\r\n                              <div className='post-like'>\r\n                                  <a id={'like-'+post.uid} onClick={(e) => handleClickLike(e)} href='#'><img className='like-icon' src={liked[post.usersLiked.includes(sessionStorage.getItem(\"userId\"))]} width=\"20\" height=\"20\"></img></a> <p>{post.likes}</p>\r\n                              </div>\r\n                              <div className='post-dislike'>\r\n                                  <a id={'dislike-'+post.uid} onClick={(e) => handleClickDislike(e)} href='#'><img className='dislike-icon' src={disliked[post.usersDisliked.includes(sessionStorage.getItem(\"userId\"))]} width=\"20\" height=\"20\"></img></a> <p>{post.dislikes}</p>\r\n                              </div>\r\n                          </div>\r\n                          <div className='comments'>\r\n                              <a href='#' className='show-comment'><p onClick={(e) => handleClickComments(post.uid,e)}>comments</p></a>\r\n                          </div>\r\n                      </div>\r\n                      <div className='comments-section' id={'comments-'+post.uid}>\r\n                        <Comments id={post.uid}/>\r\n                      </div>\r\n                  </div>\r\n                </li>)}\r\n            </ul>\r\n            );\r\n    }\r\n\r\n    if(posts !== null){\r\n        if(posts.length === 0){\r\n            postsElement = <h1>No posts yet</h1>\r\n        }\r\n    }\r\n\r\n    let loadElement = (<div></div>);\r\n    if(posts !== null){\r\n        if(iterations < posts.length){\r\n            loadElement = (<div id=\"load-more\" onClick={handleClickLoadMore}>LOAD MORE POSTS</div>);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"posts\">\r\n            <div className='posts-padding'>\r\n                <div className='posts-content'>\r\n                    {postsElement}\r\n                </div>\r\n            </div>\r\n            {loadElement}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst handleClickComments = (postId,e) => {\r\n    e.preventDefault();\r\n    let x = document.getElementById(\"comments-\"+postId);\r\n    if (x.style.display === \"none\") {\r\n        x.style.display = \"block\";\r\n    } else {\r\n        x.style.display = \"none\";\r\n    }\r\n}\r\n","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\services\\comments.service.js",[],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Comments.js",["141","142","143","144","145","146","147","148"],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\services\\posts.service.js",[],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Login.js",["149","150"],[],"import '../styles/Login.css'\r\nimport arrow from '../assets/Icons/arrow-right.webp'\r\nimport {Signup} from './Signup'\r\nimport {LoginUser} from '../services/credentials.service'\r\nimport {ReactSession} from 'react-client-session'\r\n\r\nexport const Login = () => {\r\n\r\n    return (\r\n        <div>\r\n            <div id='login-component'>\r\n                <h1>LOG IN :</h1>\r\n                <form id='login-form' onSubmit={(e) => handleSubmit(e)}>\r\n                    <p>E-mail address :</p>\r\n                    <input name='email-input'></input>\r\n                    <p>Password :</p>\r\n                    <input name='password-input' type='password'></input>\r\n                    <button name='submit'><img id='arrow-submit' src={arrow}></img></button>\r\n                </form>\r\n                <p>Not registered yet ? : <a href='#' onClick={handleClick}>Sign up</a></p>\r\n            </div>\r\n            <div id='signup-component'><Signup /></div>\r\n        </div>\r\n        )\r\n}\r\n\r\nfunction handleSubmit(e) {\r\n    e.preventDefault()\r\n    const email = e.target['email-input'].value;\r\n    const password = e.target['password-input'].value;\r\n    console.log(email + \" : \" + password);\r\n    LoginUser(email,password).then((data) => {\r\n        console.log(\"data : \");\r\n        console.log(data);\r\n        if(data.token){\r\n            ReactSession.set(\"userId\",data.userId);\r\n            ReactSession.set(\"token\",data.token);\r\n            sessionStorage.setItem(\"userId\",data.userId)\r\n            sessionStorage.setItem(\"token\",data.token)\r\n            window.location.reload();\r\n        }\r\n        else{\r\n            alert(\"Error during the logging !\")\r\n        }\r\n    });\r\n}\r\n\r\nfunction handleClick(){\r\n    let x = document.getElementById(\"signup-component\");\r\n    let y = document.getElementById(\"login-component\");\r\n    x.style.display = \"block\";\r\n    y.style.display = \"none\";  \r\n}","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\services\\credentials.service.js",[],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Signup.js",["151","152","153","154","155"],[],"import '../styles/Login.css'\r\nimport arrow from '../assets/Icons/arrow-right.webp'\r\nimport {SignupUser} from '../services/credentials.service'\r\n\r\nexport const Signup = () => {\r\n\r\n    return (\r\n        <div>\r\n            <h1>SIGN UP :</h1>\r\n            <form id='signup-form' onSubmit={(e) => handleSubmit(e)}>\r\n                \r\n                <p>* E-mail address :</p>\r\n                <input name='email-input'></input>\r\n                <p className='form-error' id='email-error'>Invalid format !</p>\r\n                <p>* Password :</p>\r\n                <input name='password-input' type='password'></input>\r\n                <p className='form-error' id='password-error'>Password must be 8 characters long and contain at least: 1 uppercase letter, 1 lowercase letter, 1 digit, 1 special character</p>\r\n                <p>* Confirm password :</p>\r\n                <input name='password-confirm-input' type='password'></input>\r\n                <p className='form-error' id='password-confirm-error'>Passwords do not match !</p>\r\n                <p>* First name :</p>\r\n                <input name='firstname-input'></input>\r\n                <p className='form-error' id='firstname-error'>You must enter a name !</p>\r\n                <p>Last name</p>\r\n                <input name='lastname-input'></input>\r\n                <p>A short description of you</p>\r\n                <input name='description-input'></input>\r\n                <button name='submit'><img id='arrow-submit' src={arrow}></img></button>\r\n            </form>\r\n            <p>Have an account ? : <a href='#' onClick={handleClick}>Log in</a></p>\r\n        </div>\r\n        )\r\n}\r\n\r\nfunction handleSubmit(e) {\r\n    e.preventDefault()\r\n    const email = e.target['email-input'].value;\r\n    const password = e.target['password-input'].value;\r\n    const passwordConfirm = e.target['password-confirm-input'].value;\r\n    const firstname = e.target['firstname-input'].value;\r\n    const lastname = e.target['lastname-input'].value;\r\n    const description = e.target['description-input'].value;\r\n\r\n    const emailValid = /^[A-Za-z0-9_-]+@\\w+\\.[a-z]+$/;\r\n    const passwordStrong = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/;\r\n    //(?=.*[a-z]) : The string must contain at least 1 lowercase alphabetical character\r\n    //(?=.*[A-Z]) : The string must contain at least 1 uppercase alphabetical character\r\n    //(?=.*[0-9]) : The string must contain at least 1 numeric character\r\n    //(?=.*[!@#$%^&*]) : The string must contain at least one special character, but we are escaping reserved regex characters to avoid conflict\r\n    //(?=.{8,})\tThe string must be eight characters or longer\r\n    let pass = true;\r\n    if(!emailValid.test(email)){\r\n        document.getElementById(\"email-error\").style.display = \"block\";\r\n        pass = false;\r\n    }\r\n    else{\r\n        document.getElementById(\"email-error\").style.display = \"none\";\r\n    }\r\n    if(!passwordStrong.test(password)){\r\n        document.getElementById(\"password-error\").style.display = \"block\";\r\n        pass = false;\r\n    }\r\n    else{\r\n        document.getElementById(\"password-error\").style.display = \"none\";\r\n    }\r\n    if(password !== passwordConfirm){\r\n        document.getElementById(\"password-confirm-error\").style.display = \"block\";\r\n        pass = false;\r\n    }\r\n    else{\r\n        document.getElementById(\"password-confirm-error\").style.display = \"none\";\r\n    }\r\n    if(firstname === \"\"){\r\n        document.getElementById(\"firstname-error\").style.display = \"block\";\r\n        pass = false;\r\n    }\r\n    else{\r\n        document.getElementById(\"firstname-error\").style.display = \"none\";\r\n    }\r\n    if(pass){\r\n        SignupUser(email,password,firstname,lastname,description).then((data) => {\r\n            window.location.reload();\r\n        });\r\n    }    \r\n}\r\n\r\nfunction handleClick(){\r\n    let x = document.getElementById(\"login-component\");\r\n    let y = document.getElementById(\"signup-component\");\r\n    x.style.display = \"block\";\r\n    y.style.display = \"none\";  \r\n}","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Profile.js",["156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171"],[],"import '../styles/Profile.css'\r\nimport '../styles/Posts.css'\r\nimport like from '../assets/Icons/like.png'\r\nimport dislike from '../assets/Icons/dislike.png'\r\nimport likeActive from '../assets/Icons/likeActive.png'\r\nimport dislikeActive from '../assets/Icons/dislikeActive.png'\r\nimport Trash from '../assets/Icons/Trash.webp'\r\nimport {useState,useEffect,useRef,useCallback} from 'react'\r\nimport {GetProfile,GetProfilePosts, EditProfile} from '../services/profiles.service'\r\nimport {DelPost,LikePost} from '../services/posts.service'\r\nimport {Comments} from './Comments'\r\nimport {EditMainInfos} from './EditMainInfos'\r\nimport {EditSecondaryInfos} from './EditSecondaryInfos'\r\nimport ReactDOM from 'react-dom'\r\n\r\nexport const Profile = (userId) =>{\r\n    const [profile, setProfileInfos] = useState({});\r\n    const [viewingProfile, setViewingProfile] = useState({});\r\n    const [posts, setProfilePosts] = useState([]);\r\n    const [iterations, setIterations] = useState(10);\r\n    const [load, setLoad] = useState(false);\r\n    const [formData,setFormData] = useState(null);\r\n    const [change, setChange] = useState(false);\r\n\r\n    const liked = {};\r\n    const disliked = {};\r\n    \r\n    liked[false] = like;\r\n    liked[true] = likeActive;\r\n    disliked[false] = dislike;\r\n    disliked[true] = dislikeActive;\r\n\r\n\r\n    const getImage = (post) =>{\r\n      if(post.imageUrl !== 'noimage'){\r\n          return (<img className='post-image' src={post.imageUrl}></img>);\r\n      }\r\n      else{\r\n          return (<></>);\r\n      }\r\n    }\r\n\r\n    const refresh = () => {\r\n      setChange(!change);\r\n    }\r\n\r\n    const handleClickLoadMore = () => {\r\n      if((iterations+5 > posts.length)){\r\n        setIterations(posts.length);\r\n      }\r\n      else{\r\n        setIterations((iterations+5));\r\n      }\r\n    }\r\n    \r\n    const handleClickLike = (e) =>{\r\n      e.preventDefault();\r\n      let postId = String(e.target.parentNode.id).substring(5);\r\n      LikePost(postId,1)\r\n      .then(()=>{ refresh() });\r\n    }\r\n\r\n    const handleClickDislike = (e) =>{\r\n      e.preventDefault();\r\n      let postId = String(e.target.parentNode.id).substring(8);\r\n      console.log(postId);\r\n      LikePost(postId,-1)\r\n      .then(()=>{ refresh() });\r\n    }\r\n\r\n    const handleClickDelete = (e) => {\r\n      let postId = ReactDOM.findDOMNode(e.target).parentNode.id;\r\n      if(postId === ''){\r\n          postId = ReactDOM.findDOMNode(e.target).parentNode.parentNode.id\r\n      }\r\n\r\n      DelPost(postId)\r\n      .then(()=>{ refresh() });\r\n  }\r\n    const handleInput = (e) => {\r\n      const file = Array.from(e.target.files);\r\n      console.log(\"file: \"+file[0].name);\r\n      if(file[0].name.endsWith(\".jpg\") || file[0].name.endsWith(\".jpeg\") || file[0].name.endsWith(\".png\")){\r\n        console.log(\"ok\");\r\n        setFormData(file[0]);\r\n      }\r\n      else{\r\n      }\r\n    }\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      if(formData !== null){\r\n        console.log(\"form data : \"+formData);\r\n        EditProfile(profile,formData)\r\n        .then((data) =>{\r\n          refresh();\r\n          console.log(data);\r\n        })\r\n      }\r\n    }\r\n\r\n    const formatContent = (text) =>{\r\n      const tab = text.split(' ');\r\n      let content = [];\r\n      console.log(tab);\r\n      let string = '';\r\n      for(let i = 0; i < tab.length; i++){\r\n          if(tab[i].startsWith(':') && tab[i].endsWith(':')){\r\n              content.push((<p>{string}</p>));\r\n              string = '';\r\n              content.push((<img src={tab[i].substring(1,tab[i].length-1)}></img>));\r\n          }\r\n          else{\r\n              string += ' '+tab[i];\r\n          }\r\n      }\r\n\r\n      if(string !== ''){\r\n          content.push((<p>{string}</p>));\r\n      }\r\n\r\n      return (<div>\r\n          {content.map((el)=>el)}\r\n      </div>);\r\n  }\r\n\r\n    useEffect(() => {\r\n      GetProfile(userId)\r\n      .then(data => setProfileInfos(data))\r\n      .catch((err) => console.log(err))\r\n    }, [change])\r\n\r\n    useEffect(() => {\r\n      GetProfile({id : sessionStorage.getItem(\"userId\")})\r\n        .then(data => setViewingProfile(data))\r\n        .catch((err) => console.log(err))  \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n      if(viewingProfile !== undefined && profile !== undefined){\r\n        setLoad(true);\r\n      }\r\n    }, [viewingProfile,profile])\r\n\r\n    useEffect(() => {\r\n      GetProfilePosts(userId)\r\n      .then(data => setProfilePosts(data))\r\n      .catch((err) => console.log(err)) \r\n    }, [])\r\n\r\n    let editMainInfosElement = <></>;\r\n    let editSecondaryInfosElement = <></>;\r\n    let postsElement = <></>;\r\n    let editProfilePictureElement = <></>;\r\n\r\n    if(load && profile.firstname !== undefined){\r\n\r\n      let deletePostElement = {};\r\n      deletePostElement[sessionStorage.getItem(\"userId\")] = (<button className='delete-post' onClick={(e) => handleClickDelete(e)}><img className='delete-post-icon' src={Trash} width='10' height='10'></img></button>);\r\n      if(viewingProfile.access === \"admin\"){\r\n          for(let i = 0;i < posts.length; i++){\r\n              deletePostElement[posts[i].userId] = deletePostElement[sessionStorage.getItem(\"userId\")];\r\n          }\r\n      }\r\n\r\n      let p = {...profile,canEdit : false};\r\n      editMainInfosElement = <EditMainInfos profile={p}/>;\r\n      editSecondaryInfosElement = <EditSecondaryInfos profile={p}/>;\r\n      if(profile.userId === sessionStorage.getItem(\"userId\") || viewingProfile.access === \"admin\"){\r\n        p.canEdit = true\r\n        console.log(profile.userId);\r\n        console.log(sessionStorage.getItem(\"userId\"));\r\n        editMainInfosElement = <EditMainInfos profile={p}/>;\r\n        editSecondaryInfosElement = <EditSecondaryInfos profile={p}/>;\r\n      }\r\n\r\n      if(profile.userId === sessionStorage.getItem(\"userId\") || viewingProfile.access === \"admin\"){\r\n        editProfilePictureElement = (\r\n        <form onSubmit={(e) => handleSubmit(e)}>\r\n          <input type='file' id='upload' onInput={(e) => handleInput(e)} width='20' height='20' multiple />\r\n          <button>UPLOAD</button>\r\n        </form>);\r\n      }\r\n      postsElement = (        \r\n      <ul>\r\n        {posts.slice(0,iterations).reverse().map((post) =>\r\n          <li className='post' key={post.uid}>\r\n              <div className='post-title'>\r\n              <div className='post-author'>\r\n                <div className='post-title-picture-frame'>\r\n                    <img className='post-title-picture' src={profile.pictureUrl}></img>\r\n                </div>\r\n                  <a>{profile.firstname} {profile.lastname}</a>\r\n                </div>\r\n                <div id={post.uid}>\r\n                    {deletePostElement[post.userId]}\r\n                  </div>\r\n                </div>\r\n                <div className='post-content'>\r\n                  {formatContent(post.content)}\r\n                </div>\r\n                <div className='post-image-frame'>\r\n                  {getImage(post)}\r\n                </div>\r\n            <div className='post-reviews'>\r\n                <div className='post-reviews-row'>\r\n                    <div className='likes-dislikes'>\r\n                      <div className='post-like'>\r\n                          <a id={'like-'+post.uid} onClick={(e) => handleClickLike(e)} href='#'><img className='like-icon' src={liked[post.usersLiked.includes(sessionStorage.getItem(\"userId\"))]} width=\"20\" height=\"20\"></img></a> <p>{post.likes}</p>\r\n                        </div>\r\n                        <div className='post-dislike'>\r\n                            <a id={'dislike-'+post.uid} onClick={(e) => handleClickDislike(e)} href='#'><img className='dislike-icon' src={disliked[post.usersDisliked.includes(sessionStorage.getItem(\"userId\"))]} width=\"20\" height=\"20\"></img></a> <p>{post.dislikes}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className='comments'>\r\n                    <a href='#' className='show-comment'><p onClick={(e) => handleClickComment(post.uid,e)}>comments</p></a>\r\n                    </div>\r\n                </div>\r\n                <div className='comments-section' id={'comments-'+post.uid}>\r\n                      <Comments id={post.uid}/>\r\n                </div>\r\n              </div>\r\n          </li>)}\r\n      </ul>\r\n      )\r\n    }\r\n\r\n    if(posts.length == 0){\r\n      postsElement = <h1>No posts yet</h1>\r\n    }\r\n\r\n    let loadElement = (<div></div>);\r\n    if(iterations < posts.length){\r\n        loadElement = (<div id=\"load-more\" onClick={handleClickLoadMore}>LOAD MORE POSTS</div>);\r\n    }\r\n\r\n    return (\r\n    <div>\r\n      <div className='profile-frame'>\r\n        <div id='main-infos'>\r\n            {editMainInfosElement}        \r\n        </div>\r\n        <div id='secondary-infos'>\r\n          <div id='picture-frame'>\r\n            <img id=\"profile-picture\" src={profile.pictureUrl}></img>\r\n          </div>\r\n            {editSecondaryInfosElement}        \r\n        </div>\r\n          {editProfilePictureElement}\r\n      </div>\r\n      <div id='posts-frame'>\r\n            <div className='posts-padding'>\r\n                <div className='posts-content'>\r\n                    {postsElement}\r\n                </div>\r\n            </div>\r\n            {loadElement}\r\n        </div>\r\n      </div>\r\n        )\r\n}\r\n\r\nconst handleClickComment = (id,e) => {\r\n  e.preventDefault();\r\n  let x = document.getElementById(\"comments-\"+id);\r\n  if (x.style.display === \"none\") {\r\n      x.style.display = \"block\";\r\n  } else {\r\n      x.style.display = \"none\";\r\n  }\r\n}","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\services\\profiles.service.js",[],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\AddPost.js",["172","173"],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Searchbar.js",["174"],[],"import { TextSearchProfiles } from \"../services/profiles.service\";\r\nimport {Profile} from \"./Profile\";\r\nimport {Top} from \"./Top\";\r\nimport ReactDOM from 'react-dom';\r\n\r\nexport const Searchbar = () =>{\r\n\r\n    return (\r\n    <div className=\"searchbar\">\r\n        <form id='search-form' onKeyUpCapture={(e)=>{handleKeyUp(e)}}>\r\n                <input id='search-input'></input>\r\n                <button id='search-button'>SEARCH</button>\r\n                <span id='search-results'></span>\r\n            </form>\r\n    </div>\r\n        )\r\n\r\n    function handleClick(profileId){\r\n        ReactDOM.render(\r\n            <div>\r\n            </div>,\r\n              document.getElementById('root')\r\n        );\r\n        setTimeout(() => {\r\n        ReactDOM.render(\r\n            <div>\r\n                <Top />\r\n                <Profile id={profileId} />\r\n            </div>,\r\n              document.getElementById('root')\r\n        );\r\n        }, 100);\r\n    }\r\n\r\n    function handleKeyUp(e){\r\n        e.preventDefault();\r\n        if(e.target.value !== ''){\r\n            TextSearchProfiles(e.target.value).then((profiles) =>{\r\n            ReactDOM.render(\r\n            <ul id='search-list'>\r\n                {profiles.map((profile) => \r\n                <li key={profile.userId}>\r\n                    <a href='#' onClick={()=>{handleClick(profile.userId)}}>{profile.firstname} {profile.lastname}</a>\r\n                </li>)}\r\n            </ul>,\r\n            document.getElementById(\"search-results\"));\r\n            }); \r\n        }\r\n        else{\r\n            ReactDOM.render(\r\n                <ul id='search-list'>\r\n                </ul>,\r\n                document.getElementById(\"search-results\"));\r\n        }\r\n    }\r\n}","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\EditMainInfos.js",["175","176","177","178"],[],"import save from '../assets/Icons/save.webp'\r\nimport pen from '../assets/Icons/pen.webp'\r\nimport {EditProfile} from '../services/profiles.service'\r\nimport { useEffect, useState } from 'react'\r\n\r\nexport const EditMainInfos = (profile) =>{\r\n    const [state,setState] = useState(<div></div>);\r\n\r\n\r\n    useEffect(()=>{\r\n        let editElement = <div></div>;\r\n\r\n        if(profile.profile.canEdit){\r\n            editElement = (<button id='edit-main-infos-btn' onClick={() => handleClickMainInfos()}><img id='edit-main-infos-img' src={pen} width='20' height='20'></img></button>);\r\n        }\r\n        setState(\r\n        <div>\r\n            <div id='firstname-lastname'>\r\n                <h2>{profile.profile.firstname} {profile.profile.lastname}</h2>\r\n            </div>\r\n            {editElement}\r\n        </div>)\r\n    }, []);\r\n\r\n    const handleClickMainInfos = () => {\r\n        let editform = \r\n        <form id='edit-main-infos' onSubmit={(e) => handleSubmitMainInfos(e)}>\r\n            <input id='set-firstname' name='set-firstname' defaultValue={profile.profile.firstname}></input>\r\n            <input id='set-lastname'name='set-lastname' defaultValue={profile.profile.lastname}></input>\r\n            <button><img src={save} width='10' height='10'></img></button>\r\n        </form>;\r\n       setState(editform);\r\n       //document.getElementById('set-firstname').defaultValue = profile.firstname;\r\n       //document.getElementById('set-lastname').defaultvalue = profile.lastname;\r\n      }\r\n\r\n\r\n    const handleSubmitMainInfos = (e) => {\r\n        e.preventDefault();\r\n        let ProfileModified = profile.profile;\r\n        delete ProfileModified.canEdit;\r\n        ProfileModified.firstname = e.target['set-firstname'].value;\r\n        ProfileModified.lastname = e.target['set-lastname'].value;\r\n\r\n        EditProfile(ProfileModified)\r\n        .then((data)=>{\r\n            console.log(data);\r\n            setState( \r\n            <div>\r\n                <div id='firstname-lastname'>\r\n                    <h2>{ProfileModified.firstname} {ProfileModified.lastname}</h2>\r\n                </div>\r\n                <button id='edit-main-infos-btn' onClick={() => handleClickMainInfos()}><img id='edit-main-infos-img' src={pen} width='20' height='20'></img></button>\r\n            </div>)\r\n        });\r\n    }\r\n\r\n    return state;\r\n}","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\EditSecondaryInfos.js",["179","180","181","182"],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Account.js",["183","184"],[],"import { useEffect, useState } from \"react\";\r\nimport { GetUser, EditUserPassword, EditUserEmail } from \"../services/accounts.service\";\r\nimport \"../styles/Account.css\"\r\n\r\nexport const Account = () =>{\r\n\r\n    const [user,setUser] = useState({});\r\n    const [load,setLoad] = useState(false);\r\n    const [change,setChange] = useState(false);\r\n\r\n    const handleSubmitPassword = (e) =>{\r\n        e.preventDefault();\r\n        if(e.target['password-change-input'].value === e.target['password-change-confirm'].value){\r\n            console.log(\"test\");\r\n            EditUserPassword(e.target[\"password-old-input\"].value,e.target['password-change-input'].value)\r\n            .then((res) => {\r\n                e.target[\"password-old-input\"].value = \"\";\r\n                e.target[\"password-change-input\"].value = \"\";\r\n                e.target[\"password-change-confirm\"].value = \"\";\r\n\r\n                if(String(res).endsWith('400')){\r\n                    document.getElementById(\"password-error\").innerText = \"Password is too weak !\";\r\n                    document.getElementById(\"password-error\").style.display = \"block\";\r\n                }\r\n                else if(String(res).endsWith('403')){\r\n                    document.getElementById(\"password-error\").innerText = \"Wrong password !\";\r\n                    document.getElementById(\"password-error\").style.display = \"block\";\r\n                }\r\n                else{\r\n                    document.getElementById(\"password-success\").style.display = \"block\";\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            document.getElementById(\"password-change-error\").style.display = \"block\";\r\n        }\r\n    }\r\n    const handleSubmitEmail = (e) =>{\r\n        e.preventDefault();\r\n        EditUserEmail(e.target[\"email-change-input\"].value)\r\n        .then((res) => {\r\n            refresh();\r\n            e.target[\"email-change-input\"].value = \"\";\r\n            if(res.statusText == 'OK'){\r\n                document.getElementById(\"email-success\").style.display = \"block\";\r\n            }\r\n            else{\r\n                document.getElementById(\"email-error\").style.display = \"block\";\r\n            }\r\n        });\r\n    }\r\n    const handleInputPassword = () =>{\r\n        if(document.getElementById(\"password-change-error\").style.display === \"block\"){\r\n            document.getElementById(\"password-change-error\").style.display = \"none\";\r\n        }\r\n        if(document.getElementById(\"password-error\").style.display === \"block\"){\r\n            document.getElementById(\"password-error\").style.display = \"none\";\r\n        }\r\n        if(document.getElementById(\"password-success\").style.display == \"block\"){\r\n            document.getElementById(\"password-success\").style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    const handleInputEmail = () =>{\r\n        if(document.getElementById(\"email-error\").style.display === \"block\"){\r\n            document.getElementById(\"email-error\").style.display = \"none\";\r\n        }\r\n        if(document.getElementById(\"email-success\").style.display === \"block\"){\r\n            document.getElementById(\"email-success\").style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    const refresh = () => {\r\n        setChange(!change);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        GetUser(sessionStorage.getItem(\"userId\"))\r\n        .then((data)=>{setUser(data)});\r\n    },[change]);\r\n\r\n    useEffect(()=>{\r\n        if(user !== {}){\r\n            setLoad(true);\r\n        }\r\n    },[user]);\r\n\r\n    if(load){\r\n        return (\r\n            <div id='account-frame'>\r\n                <div id='email-frame'>\r\n                    <h2>E-MAIL</h2>\r\n                    <p>E-MAIL : {user.email}</p>\r\n                    <form id='email-change-form' onInput={handleInputEmail} onSubmit={(e) => handleSubmitEmail(e)}>\r\n                        <p>New e-mail :</p>\r\n                        <input name='email-change-input'></input>\r\n                        <button>Change</button>\r\n                        <p className='form-error' id='email-error'></p>\r\n                        <p className='form-success' id='email-success'>Email changed !</p>\r\n                    </form>\r\n                </div>\r\n                <div id='password-frame'>\r\n                <h2>PASSWORD</h2>\r\n                    <form id='password-change-form' onInput={handleInputPassword} onSubmit={(e) => handleSubmitPassword(e)}>\r\n                        <p>Old password :</p>\r\n                        <input type='password' name='password-old-input'></input>\r\n                        <p>New password :</p>\r\n                        <input type='password' name='password-change-input'></input>\r\n                        <p>Confirm new password :</p>\r\n                        <input type='password' name='password-change-confirm'></input>\r\n                        <button>Change</button>\r\n                        <p className='form-error' id='password-change-error'>Passwords do not macth !</p>\r\n                        <p className='form-error' id='password-error'></p>\r\n                        <p className='form-success' id='password-success'>Password changed !</p>\r\n                    </form>\r\n\r\n                    </div>\r\n                <div id='access-frame'><p>ACCESS :</p>{user.access}</div>\r\n                <div id='delete-frame'>\r\n                <h2>DELETE ACCOUNT</h2>\r\n                    <p>Enter your password to delete your account : </p>\r\n                    <form id='delete-form'>\r\n                        <input type='password' id='delete-form-password-input'></input>\r\n                        <button id='delete-form-password-button'>DELETE</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return (\r\n        <div>Loading...</div>\r\n    );\r\n}","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\services\\accounts.service.js",[],[],"C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\Topics.js",["185","186"],[],"import '../styles/Topics.css'\r\nimport { GetTopics } from '../services/posts.service'\r\nimport { useState, useEffect, useRef, useCallback } from 'react'\r\nimport {Banner} from './Banner'\r\nimport {Posts} from './Posts'\r\nimport { AddPost } from './AddPost'\r\nimport {Top} from './Top'\r\nimport ReactDOM from 'react-dom'\r\n\r\nexport const Topics = () => {\r\n\r\n    const [topics,setTopics] = useState([]);\r\n    const [load,setLoad] = useState(false);\r\n    const [iterations, setIterations] = useState(20);\r\n\r\n    const handleClickLoadMore = () => {\r\n        setIterations((iterations+10));\r\n    }\r\n\r\n    function handleClickTopic(e){\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        console.log(e.target);\r\n        let topicId = e.target.id;\r\n        console.log(topicId);\r\n        if(topicId === ''){\r\n            topicId = ReactDOM.findDOMNode(e.target).parentNode.id;\r\n        }\r\n        ReactDOM.render(\r\n            <div>\r\n            </div>,\r\n            document.getElementById('root')\r\n        );\r\n        setTimeout(() => {\r\n            ReactDOM.render(\r\n                <div>\r\n                    <div>\r\n                        <Banner /><Top />\r\n                    </div>\r\n                    <div>\r\n                        <AddPost topic={topicId} /><Posts topic={topicId}/>\r\n                    </div>\r\n                </div>\r\n                    ,document.getElementById('root'));\r\n            }, 100);\r\n    }\r\n\r\n    useEffect(() => {\r\n        GetTopics()\r\n        .then(data => {\r\n            console.log(data);\r\n            setTopics(data);\r\n            setLoad(true);\r\n        })\r\n        .catch((err) => console.log(err)) \r\n    }, [])\r\n\r\n    let topicsElement = (<div>\"Loading...\"</div>);\r\n\r\n    let loadElement = (<div></div>);\r\n    if(topics !== null){\r\n        if(iterations < topics.length){\r\n            loadElement = (<div id=\"load-more\" onClick={handleClickLoadMore}>LOAD MORE POSTS</div>);\r\n        }\r\n    }\r\n    if(load){\r\n        topicsElement = (<ul id='page-topics'>{topics.slice(0,iterations).map((top)=>\r\n        <li className='page-topic' key={top.topic} id={top.topic} onClick={(e) => handleClickTopic(e)}>\r\n            <p>{top.count}#{top.topic}</p>\r\n        </li>\r\n        )}</ul>);\r\n    }\r\n    if(topics !== null){\r\n        if(topics.length === 0){\r\n            topicsElement = <h1>No topics yet</h1>\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            {topicsElement}\r\n            {loadElement}\r\n        </div>\r\n\r\n    );\r\n}","C:\\Users\\LILKETRU\\Desktop\\openclassrooms\\P7\\Groupomania\\front\\src\\components\\GifSearch.js",["187","188","189","190"],[],{"ruleId":"191","severity":1,"message":"192","line":45,"column":51,"nodeType":"193","endLine":45,"endColumn":83},{"ruleId":"191","severity":1,"message":"192","line":46,"column":51,"nodeType":"193","endLine":46,"endColumn":82},{"ruleId":"191","severity":1,"message":"194","line":50,"column":17,"nodeType":"193","endLine":50,"endColumn":49},{"ruleId":"191","severity":1,"message":"194","line":55,"column":13,"nodeType":"193","endLine":55,"endColumn":64},{"ruleId":"191","severity":1,"message":"194","line":56,"column":13,"nodeType":"193","endLine":56,"endColumn":59},{"ruleId":"191","severity":1,"message":"194","line":57,"column":13,"nodeType":"193","endLine":57,"endColumn":54},{"ruleId":"195","severity":1,"message":"196","line":7,"column":31,"nodeType":"197","messageId":"198","endLine":7,"endColumn":37},{"ruleId":"195","severity":1,"message":"199","line":7,"column":39,"nodeType":"197","messageId":"198","endLine":7,"endColumn":50},{"ruleId":"200","severity":1,"message":"201","line":35,"column":21,"nodeType":"193","endLine":35,"endColumn":69},{"ruleId":"200","severity":1,"message":"201","line":104,"column":31,"nodeType":"193","endLine":104,"endColumn":78},{"ruleId":"202","severity":1,"message":"203","line":125,"column":10,"nodeType":"204","endLine":125,"endColumn":18,"suggestions":"205"},{"ruleId":"200","severity":1,"message":"201","line":152,"column":134,"nodeType":"193","endLine":152,"endColumn":203},{"ruleId":"200","severity":1,"message":"201","line":165,"column":33,"nodeType":"193","endLine":165,"endColumn":108},{"ruleId":"191","severity":1,"message":"192","line":167,"column":29,"nodeType":"193","endLine":167,"endColumn":79},{"ruleId":"191","severity":1,"message":"194","line":183,"column":35,"nodeType":"193","endLine":183,"endColumn":105},{"ruleId":"200","severity":1,"message":"201","line":183,"column":105,"nodeType":"193","endLine":183,"endColumn":227},{"ruleId":"191","severity":1,"message":"194","line":186,"column":35,"nodeType":"193","endLine":186,"endColumn":111},{"ruleId":"200","severity":1,"message":"201","line":186,"column":111,"nodeType":"193","endLine":186,"endColumn":242},{"ruleId":"191","severity":1,"message":"194","line":190,"column":31,"nodeType":"193","endLine":190,"endColumn":68},{"ruleId":"195","severity":1,"message":"196","line":2,"column":31,"nodeType":"197","messageId":"198","endLine":2,"endColumn":37},{"ruleId":"195","severity":1,"message":"199","line":2,"column":39,"nodeType":"197","messageId":"198","endLine":2,"endColumn":50},{"ruleId":"200","severity":1,"message":"201","line":101,"column":31,"nodeType":"193","endLine":101,"endColumn":78},{"ruleId":"202","severity":1,"message":"206","line":123,"column":10,"nodeType":"204","endLine":123,"endColumn":18,"suggestions":"207"},{"ruleId":"200","severity":1,"message":"201","line":146,"column":140,"nodeType":"193","endLine":146,"endColumn":212},{"ruleId":"200","severity":1,"message":"201","line":158,"column":25,"nodeType":"193","endLine":158,"endColumn":102},{"ruleId":"191","severity":1,"message":"194","line":161,"column":25,"nodeType":"193","endLine":161,"endColumn":111},{"ruleId":"191","severity":1,"message":"192","line":184,"column":17,"nodeType":"193","endLine":184,"endColumn":63},{"ruleId":"200","severity":1,"message":"201","line":18,"column":43,"nodeType":"193","endLine":18,"endColumn":78},{"ruleId":"191","severity":1,"message":"194","line":20,"column":43,"nodeType":"193","endLine":20,"endColumn":77},{"ruleId":"200","severity":1,"message":"201","line":28,"column":39,"nodeType":"193","endLine":28,"endColumn":74},{"ruleId":"191","severity":1,"message":"194","line":30,"column":36,"nodeType":"193","endLine":30,"endColumn":70},{"ruleId":"208","severity":1,"message":"209","line":45,"column":72,"nodeType":"210","messageId":"211","endLine":45,"endColumn":73,"suggestions":"212"},{"ruleId":"208","severity":1,"message":"213","line":45,"column":75,"nodeType":"210","messageId":"211","endLine":45,"endColumn":76,"suggestions":"214"},{"ruleId":"208","severity":1,"message":"215","line":45,"column":78,"nodeType":"210","messageId":"211","endLine":45,"endColumn":79,"suggestions":"216"},{"ruleId":"195","severity":1,"message":"196","line":8,"column":28,"nodeType":"197","messageId":"198","endLine":8,"endColumn":34},{"ruleId":"195","severity":1,"message":"199","line":8,"column":35,"nodeType":"197","messageId":"198","endLine":8,"endColumn":46},{"ruleId":"200","severity":1,"message":"201","line":36,"column":19,"nodeType":"193","endLine":36,"endColumn":67},{"ruleId":"200","severity":1,"message":"201","line":111,"column":29,"nodeType":"193","endLine":111,"endColumn":76},{"ruleId":"202","severity":1,"message":"217","line":131,"column":8,"nodeType":"204","endLine":131,"endColumn":16,"suggestions":"218"},{"ruleId":"202","severity":1,"message":"217","line":149,"column":8,"nodeType":"204","endLine":149,"endColumn":10,"suggestions":"219"},{"ruleId":"200","severity":1,"message":"201","line":159,"column":132,"nodeType":"193","endLine":159,"endColumn":201},{"ruleId":"200","severity":1,"message":"201","line":191,"column":21,"nodeType":"193","endLine":191,"endColumn":82},{"ruleId":"191","severity":1,"message":"192","line":193,"column":19,"nodeType":"193","endLine":193,"endColumn":22},{"ruleId":"191","severity":1,"message":"194","line":209,"column":27,"nodeType":"193","endLine":209,"endColumn":97},{"ruleId":"200","severity":1,"message":"201","line":209,"column":97,"nodeType":"193","endLine":209,"endColumn":219},{"ruleId":"191","severity":1,"message":"194","line":212,"column":29,"nodeType":"193","endLine":212,"endColumn":105},{"ruleId":"200","severity":1,"message":"201","line":212,"column":105,"nodeType":"193","endLine":212,"endColumn":236},{"ruleId":"191","severity":1,"message":"194","line":216,"column":21,"nodeType":"193","endLine":216,"endColumn":58},{"ruleId":"220","severity":1,"message":"221","line":228,"column":21,"nodeType":"222","messageId":"223","endLine":228,"endColumn":23},{"ruleId":"200","severity":1,"message":"201","line":245,"column":13,"nodeType":"193","endLine":245,"endColumn":64},{"ruleId":"202","severity":1,"message":"224","line":23,"column":7,"nodeType":"204","endLine":23,"endColumn":9,"suggestions":"225"},{"ruleId":"191","severity":1,"message":"192","line":90,"column":13,"nodeType":"193","endLine":90,"endColumn":59},{"ruleId":"191","severity":1,"message":"194","line":43,"column":21,"nodeType":"193","endLine":43,"endColumn":77},{"ruleId":"200","severity":1,"message":"201","line":14,"column":100,"nodeType":"193","endLine":14,"endColumn":163},{"ruleId":"202","severity":1,"message":"226","line":23,"column":8,"nodeType":"204","endLine":23,"endColumn":10,"suggestions":"227"},{"ruleId":"200","severity":1,"message":"201","line":30,"column":21,"nodeType":"193","endLine":30,"endColumn":60},{"ruleId":"200","severity":1,"message":"201","line":53,"column":89,"nodeType":"193","endLine":53,"endColumn":152},{"ruleId":"200","severity":1,"message":"201","line":13,"column":105,"nodeType":"193","endLine":13,"endColumn":168},{"ruleId":"202","severity":1,"message":"228","line":22,"column":8,"nodeType":"204","endLine":22,"endColumn":10,"suggestions":"229"},{"ruleId":"200","severity":1,"message":"201","line":28,"column":21,"nodeType":"193","endLine":28,"endColumn":60},{"ruleId":"200","severity":1,"message":"201","line":45,"column":99,"nodeType":"193","endLine":45,"endColumn":167},{"ruleId":"220","severity":1,"message":"221","line":44,"column":31,"nodeType":"222","messageId":"223","endLine":44,"endColumn":33},{"ruleId":"220","severity":1,"message":"221","line":59,"column":70,"nodeType":"222","messageId":"223","endLine":59,"endColumn":72},{"ruleId":"195","severity":1,"message":"196","line":3,"column":31,"nodeType":"197","messageId":"198","endLine":3,"endColumn":37},{"ruleId":"195","severity":1,"message":"199","line":3,"column":39,"nodeType":"197","messageId":"198","endLine":3,"endColumn":50},{"ruleId":"230","severity":1,"message":"231","line":13,"column":27,"nodeType":"232","messageId":"233","endLine":13,"endColumn":29},{"ruleId":"202","severity":1,"message":"234","line":18,"column":7,"nodeType":"204","endLine":18,"endColumn":13,"suggestions":"235"},{"ruleId":"191","severity":1,"message":"192","line":64,"column":17,"nodeType":"193","endLine":64,"endColumn":73},{"ruleId":"200","severity":1,"message":"201","line":69,"column":25,"nodeType":"193","endLine":69,"endColumn":64},"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","JSXOpeningElement","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'useCallback' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'topic.topic'. Either include it or remove the dependency array.","ArrayExpression",["236"],"React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["237"],"no-useless-escape","Unnecessary escape character: \\$.","Literal","unnecessaryEscape",["238","239"],"Unnecessary escape character: \\^.",["240","241"],"Unnecessary escape character: \\*.",["242","243"],"React Hook useEffect has a missing dependency: 'userId'. Either include it or remove the dependency array.",["244"],["245"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","React Hook useEffect has missing dependencies: 'height' and 'topic.topic'. Either include them or remove the dependency array. If 'setTopic' needs the current value of 'topic.topic', you can also switch to useReducer instead of useState and read 'topic.topic' in the reducer.",["246"],"React Hook useEffect has missing dependencies: 'handleClickMainInfos', 'profile.profile.canEdit', 'profile.profile.firstname', and 'profile.profile.lastname'. Either include them or remove the dependency array. If 'setState' needs the current value of 'profile.profile.firstname', you can also switch to useReducer instead of useState and read 'profile.profile.firstname' in the reducer.",["247"],"React Hook useEffect has missing dependencies: 'handleClickSecondaryInfos', 'profile.profile.canEdit', and 'profile.profile.description'. Either include them or remove the dependency array. If 'setState' needs the current value of 'profile.profile.description', you can also switch to useReducer instead of useState and read 'profile.profile.description' in the reducer.",["248"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has missing dependencies: 'fetchGifs' and 'gifs'. Either include them or remove the dependency array.",["249"],{"desc":"250","fix":"251"},{"desc":"252","fix":"253"},{"messageId":"254","fix":"255","desc":"256"},{"messageId":"257","fix":"258","desc":"259"},{"messageId":"254","fix":"260","desc":"256"},{"messageId":"257","fix":"261","desc":"259"},{"messageId":"254","fix":"262","desc":"256"},{"messageId":"257","fix":"263","desc":"259"},{"desc":"264","fix":"265"},{"desc":"266","fix":"267"},{"desc":"268","fix":"269"},{"desc":"270","fix":"271"},{"desc":"272","fix":"273"},{"desc":"274","fix":"275"},"Update the dependencies array to be: [change, topic.topic]",{"range":"276","text":"277"},"Update the dependencies array to be: [change, id]",{"range":"278","text":"279"},"removeEscape",{"range":"280","text":"281"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"282","text":"283"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"284","text":"281"},{"range":"285","text":"283"},{"range":"286","text":"281"},{"range":"287","text":"283"},"Update the dependencies array to be: [change, userId]",{"range":"288","text":"289"},"Update the dependencies array to be: [userId]",{"range":"290","text":"291"},"Update the dependencies array to be: [height, topic.topic]",{"range":"292","text":"293"},"Update the dependencies array to be: [handleClickMainInfos, profile.profile.canEdit, profile.profile.firstname, profile.profile.lastname]",{"range":"294","text":"295"},"Update the dependencies array to be: [handleClickSecondaryInfos, profile.profile.canEdit, profile.profile.description]",{"range":"296","text":"297"},"Update the dependencies array to be: [fetchGifs, gifs, term]",{"range":"298","text":"299"},[3693,3701],"[change, topic.topic]",[3609,3617],"[change, id]",[2177,2178],"",[2177,2177],"\\",[2180,2181],[2180,2180],[2183,2184],[2183,2183],[3924,3932],"[change, userId]",[4431,4433],"[userId]",[865,867],"[height, topic.topic]",[818,820],"[handleClickMainInfos, profile.profile.canEdit, profile.profile.firstname, profile.profile.lastname]",[847,849],"[handleClickSecondaryInfos, profile.profile.canEdit, profile.profile.description]",[467,473],"[fetchGifs, gifs, term]"]