{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LILKETRU\\\\Desktop\\\\openclassrooms\\\\P7\\\\Groupomania\\\\front\\\\src\\\\components\\\\Login.js\";\nimport '../styles/Login.css';\nimport arrow from '../assets/Icons/arrow-right.webp';\nimport { Banner } from './Banner';\nimport { Signup } from './Signup';\nimport { LoginUser } from '../services/credentials.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"login-component\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"LOG IN :\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"login-form\",\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        name: \"submit\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"arrow-submit\",\n          src: arrow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Not registered yet ? : \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        onClick: handleClick,\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"signup-component\",\n      children: [/*#__PURE__*/_jsxDEV(Banner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 40\n      }, this), /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 50\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }, this);\n};\n_c = Login;\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  const email = e.target['email-input'].value;\n  const password = e.target['password-input'].value;\n  console.log(email + \" : \" + password);\n  LoginUser(email, password).then(data => {\n    console.log(\"data : \");\n    console.log(data);\n\n    if (data.token) {\n      sessionStorage.setItem(\"userId\", data.userId);\n      sessionStorage.setItem(\"token\", data.token);\n    }\n\n    window.location.reload();\n  });\n}\n\nfunction handleClick() {\n  let x = document.getElementsById(\"signup-component\");\n  let y = document.getElementsById(\"login-component\");\n\n  for (let i = 0; i < x.length; i++) {\n    if (x.style.display === \"none\") {\n      x.style.display = \"block\";\n      y.style.display = \"none\";\n    } else {\n      x.style.display = \"none\";\n    }\n  }\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/LILKETRU/Desktop/openclassrooms/P7/Groupomania/front/src/components/Login.js"],"names":["arrow","Banner","Signup","LoginUser","Login","e","handleSubmit","handleClick","preventDefault","email","target","value","password","console","log","then","data","token","sessionStorage","setItem","userId","window","location","reload","x","document","getElementsById","y","i","length","style","display"],"mappings":";AAAA,OAAO,qBAAP;AACA,OAAOA,KAAP,MAAkB,kCAAlB;AACA,SAAQC,MAAR,QAAqB,UAArB;AACA,SAAQC,MAAR,QAAqB,UAArB;AACA,SAAQC,SAAR,QAAwB,iCAAxB;;AAEA,OAAO,MAAMC,KAAK,GAAG,MAAM;AAEvB,sBACI;AAAK,IAAA,EAAE,EAAC,iBAAR;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAM,MAAA,SAAS,EAAC,YAAhB;AAA6B,MAAA,QAAQ,EAAGC,CAAD,IAAOC,YAAY,CAACD,CAAD,CAA1D;AAAA,8BACI;AAAO,QAAA,IAAI,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,IAAI,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA,+BAAsB;AAAK,UAAA,EAAE,EAAC,cAAR;AAAuB,UAAA,GAAG,EAAEL;AAA5B;AAAA;AAAA;AAAA;AAAA;AAAtB;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAOI;AAAA,yDAA0B;AAAG,QAAA,IAAI,EAAC,GAAR;AAAY,QAAA,OAAO,EAAEO,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA1B;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ,eAQI;AAAK,MAAA,EAAE,EAAC,kBAAR;AAAA,8BAA2B,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cAA3B,eAAqC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cAArC;AAAA;AAAA;AAAA;AAAA;AAAA,YARJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAYH,CAdM;KAAMH,K;;AAgBb,SAASE,YAAT,CAAsBD,CAAtB,EAAyB;AACrBA,EAAAA,CAAC,CAACG,cAAF;AACA,QAAMC,KAAK,GAAGJ,CAAC,CAACK,MAAF,CAAS,aAAT,EAAwBC,KAAtC;AACA,QAAMC,QAAQ,GAAGP,CAAC,CAACK,MAAF,CAAS,gBAAT,EAA2BC,KAA5C;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,GAAG,KAAR,GAAgBG,QAA5B;AACAT,EAAAA,SAAS,CAACM,KAAD,EAAOG,QAAP,CAAT,CAA0BG,IAA1B,CAAgCC,IAAD,IAAU;AACrCH,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;;AACA,QAAGA,IAAI,CAACC,KAAR,EAAc;AACVC,MAAAA,cAAc,CAACC,OAAf,CAAuB,QAAvB,EAAgCH,IAAI,CAACI,MAArC;AACAF,MAAAA,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAA+BH,IAAI,CAACC,KAApC;AACH;;AACDI,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GARD;AASH;;AAED,SAAShB,WAAT,GAAsB;AAClB,MAAIiB,CAAC,GAAGC,QAAQ,CAACC,eAAT,CAAyB,kBAAzB,CAAR;AACA,MAAIC,CAAC,GAAGF,QAAQ,CAACC,eAAT,CAAyB,iBAAzB,CAAR;;AACA,OAAI,IAAIE,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,CAAC,CAACK,MAArB,EAA4BD,CAAC,EAA7B,EAAgC;AAC5B,QAAIJ,CAAC,CAACM,KAAF,CAAQC,OAAR,KAAoB,MAAxB,EAAgC;AAC5BP,MAAAA,CAAC,CAACM,KAAF,CAAQC,OAAR,GAAkB,OAAlB;AACAJ,MAAAA,CAAC,CAACG,KAAF,CAAQC,OAAR,GAAkB,MAAlB;AACH,KAHD,MAGO;AACHP,MAAAA,CAAC,CAACM,KAAF,CAAQC,OAAR,GAAkB,MAAlB;AACH;AACJ;AACJ","sourcesContent":["import '../styles/Login.css'\r\nimport arrow from '../assets/Icons/arrow-right.webp'\r\nimport {Banner} from './Banner'\r\nimport {Signup} from './Signup'\r\nimport {LoginUser} from '../services/credentials.service'\r\n\r\nexport const Login = () => {\r\n\r\n    return (\r\n        <div id='login-component'>\r\n            <h1>LOG IN :</h1>\r\n            <form className='login-form' onSubmit={(e) => handleSubmit(e)}>\r\n                <input name='email-input'></input>\r\n                <input name='password-input'></input>\r\n                <button name='submit'><img id='arrow-submit' src={arrow}></img></button>\r\n            </form>\r\n            <p>Not registered yet ? : <a href='#' onClick={handleClick}>Sign up</a></p>\r\n            <div id='signup-component'><Banner /><Signup /></div>\r\n        </div>\r\n        )\r\n}\r\n\r\nfunction handleSubmit(e) {\r\n    e.preventDefault()\r\n    const email = e.target['email-input'].value;\r\n    const password = e.target['password-input'].value;\r\n    console.log(email + \" : \" + password);\r\n    LoginUser(email,password).then((data) => {\r\n        console.log(\"data : \");\r\n        console.log(data);\r\n        if(data.token){\r\n            sessionStorage.setItem(\"userId\",data.userId)\r\n            sessionStorage.setItem(\"token\",data.token)\r\n        }\r\n        window.location.reload();\r\n    });\r\n}\r\n\r\nfunction handleClick(){\r\n    let x = document.getElementsById(\"signup-component\");\r\n    let y = document.getElementsById(\"login-component\");\r\n    for(let i = 0; i < x.length;i++){\r\n        if (x.style.display === \"none\") {\r\n            x.style.display = \"block\";\r\n            y.style.display = \"none\";\r\n        } else {\r\n            x.style.display = \"none\";\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}