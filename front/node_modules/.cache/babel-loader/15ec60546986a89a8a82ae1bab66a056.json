{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = \"http://127.0.0.1:3000/api/\";\nexport const GetComments = postId => {\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  };\n  return axios.get(BASE_URL + 'posts/' + postId.id + '/comments', options).then(res => res.data).catch(err => err);\n};\n_c = GetComments;\nexport const PostComment = (postId, comment) => {\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  };\n  const bodyParameters = {\n    userId: sessionStorage.getItem(\"userId\"),\n    comment: comment\n  };\n\n  if (comment.length > 0) {\n    return axios.post(BASE_URL + 'posts/' + postId + '/comments', bodyParameters, options).then(res => console.log(res.data)).catch(err => err);\n  }\n};\n_c2 = PostComment;\nexport const DelComment = commentId => {\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  };\n  const bodyParameters = {\n    data: {\n      userId: sessionStorage.getItem(\"userId\")\n    }\n  };\n  return axios.delete(BASE_URL + 'comments/' + commentId + \"\", bodyParameters).then(res => console.log(res.data)).catch(err => err);\n};\n_c3 = DelComment;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"GetComments\");\n$RefreshReg$(_c2, \"PostComment\");\n$RefreshReg$(_c3, \"DelComment\");","map":{"version":3,"sources":["C:/Users/LILKETRU/Desktop/openclassrooms/P7/Groupomania/front/src/services/comments.service.js"],"names":["axios","BASE_URL","GetComments","postId","options","headers","Authorization","sessionStorage","getItem","get","id","then","res","data","catch","err","PostComment","comment","bodyParameters","userId","length","post","console","log","DelComment","commentId","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAG,4BAAjB;AAEA,OAAO,MAAMC,WAAW,GAAIC,MAAD,IAAY;AACnC,QAAMC,OAAO,GAAG;AACZC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAE,YAAUC,cAAc,CAACC,OAAf,CAAuB,OAAvB;AAA3B;AADG,GAAhB;AAIA,SAAOR,KAAK,CAACS,GAAN,CAAUR,QAAQ,GAAG,QAAX,GAAoBE,MAAM,CAACO,EAA3B,GAA8B,WAAxC,EAAoDN,OAApD,EACJO,IADI,CACEC,GAAD,IAASA,GAAG,CAACC,IADd,EAEJC,KAFI,CAEGC,GAAD,IAASA,GAFX,CAAP;AAGH,CARM;KAAMb,W;AAUb,OAAO,MAAMc,WAAW,GAAG,CAACb,MAAD,EAAQc,OAAR,KAAmB;AAC1C,QAAMb,OAAO,GAAG;AACZC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAE,YAAUC,cAAc,CAACC,OAAf,CAAuB,OAAvB;AAA3B;AADG,GAAhB;AAGA,QAAMU,cAAc,GAAG;AACnBC,IAAAA,MAAM,EAAGZ,cAAc,CAACC,OAAf,CAAuB,QAAvB,CADU;AAEnBS,IAAAA,OAAO,EAAEA;AAFU,GAAvB;;AAKA,MAAGA,OAAO,CAACG,MAAR,GAAiB,CAApB,EAAsB;AAClB,WAAOpB,KAAK,CAACqB,IAAN,CAAWpB,QAAQ,GAAG,QAAX,GAAoBE,MAApB,GAA2B,WAAtC,EAAkDe,cAAlD,EAAiEd,OAAjE,EACNO,IADM,CACAC,GAAD,IAASU,OAAO,CAACC,GAAR,CAAYX,GAAG,CAACC,IAAhB,CADR,EAENC,KAFM,CAECC,GAAD,IAASA,GAFT,CAAP;AAGH;AACJ,CAdM;MAAMC,W;AAgBb,OAAO,MAAMQ,UAAU,GAAIC,SAAD,IAAc;AACpC,QAAMrB,OAAO,GAAG;AACZC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAE,YAAUC,cAAc,CAACC,OAAf,CAAuB,OAAvB;AAA3B;AADG,GAAhB;AAGA,QAAMU,cAAc,GAAG;AACnBL,IAAAA,IAAI,EAAC;AACDM,MAAAA,MAAM,EAAGZ,cAAc,CAACC,OAAf,CAAuB,QAAvB;AADR;AADc,GAAvB;AAOA,SAAOR,KAAK,CAAC0B,MAAN,CAAazB,QAAQ,GAAG,WAAX,GAAuBwB,SAAvB,GAAiC,EAA9C,EAAiDP,cAAjD,EACNP,IADM,CACAC,GAAD,IAASU,OAAO,CAACC,GAAR,CAAYX,GAAG,CAACC,IAAhB,CADR,EAENC,KAFM,CAECC,GAAD,IAASA,GAFT,CAAP;AAGH,CAdM;MAAMS,U","sourcesContent":["import axios from \"axios\";\r\n\r\nconst BASE_URL = \"http://127.0.0.1:3000/api/\"\r\n\r\nexport const GetComments = (postId) => {\r\n    const options = {\r\n        headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n    };\r\n\r\n    return axios.get(BASE_URL + 'posts/'+postId.id+'/comments',options)\r\n      .then((res) => res.data)\r\n      .catch((err) => err)\r\n}\r\n\r\nexport const PostComment = (postId,comment) =>{\r\n    const options = {\r\n        headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n    };\r\n    const bodyParameters = {\r\n        userId : sessionStorage.getItem(\"userId\"),\r\n        comment: comment\r\n    };\r\n\r\n    if(comment.length > 0){\r\n        return axios.post(BASE_URL + 'posts/'+postId+'/comments',bodyParameters,options)\r\n        .then((res) => console.log(res.data))\r\n        .catch((err) => err)\r\n    }\r\n}\r\n\r\nexport const DelComment = (commentId) =>{\r\n    const options = {\r\n        headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n    };\r\n    const bodyParameters = {\r\n        data:{\r\n            userId : sessionStorage.getItem(\"userId\")\r\n        },\r\n\r\n    };\r\n\r\n    return axios.delete(BASE_URL + 'comments/'+commentId+\"\",bodyParameters)\r\n    .then((res) => console.log(res.data))\r\n    .catch((err) => err)\r\n}"]},"metadata":{},"sourceType":"module"}