{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = \"http://127.0.0.1:3000/api/\";\nexport const GetProfile = userId => {\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  };\n  console.log(\"User id : \" + userId);\n  return axios.get(BASE_URL + 'profiles/' + userId.id, options).then(res => {\n    console.log(res.data);\n    return res.data;\n  }).catch(err => err);\n};\n_c = GetProfile;\nexport const GetProfilePosts = userId => {\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  };\n  console.log(userId.id);\n  return axios.get(BASE_URL + 'profiles/' + userId.id + '/posts', options).then(res => {\n    console.log(res.data);\n    return res.data;\n  }).catch(err => err);\n};\n_c2 = GetProfilePosts;\nexport const SearchProfiles = profiles => {\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  };\n  const bodyParameters = {\n    userId: sessionStorage.getItem(\"userId\"),\n    profiles: profiles\n  };\n  return axios.post(BASE_URL + 'profiles/search', bodyParameters, options).then(res => {\n    return res.data;\n  }).catch(err => err);\n};\n_c3 = SearchProfiles;\nexport const TextSearchProfiles = query => {\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  };\n  const bodyParameters = {\n    userId: sessionStorage.getItem(\"userId\"),\n    query: query\n  };\n  return axios.post(BASE_URL + 'profiles/textsearch', bodyParameters, options).then(res => {\n    return res.data;\n  }).catch(err => err);\n};\n_c4 = TextSearchProfiles;\nexport const EditProfile = function (profile) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (data !== {}) {\n    data.userId = sessionStorage.getItem(\"userId\");\n    data.profile = profile;\n  }\n\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\"),\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  };\n  const bodyParameters = {\n    userId: sessionStorage.getItem(\"userId\"),\n    profile: profile,\n    image: data\n  };\n  let fm = new FormData();\n  fm.append(userId, bodyParameters.userId);\n  fm.append(bodyParameters.profile);\n  fm.append({\n    image: data\n  });\n  console.log(fm);\n  return axios.put(BASE_URL + 'profiles/' + profile.userId, bodyParameters, {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  }).then(res => {\n    return res.data;\n  }).catch(err => err);\n};\n_c5 = EditProfile;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"GetProfile\");\n$RefreshReg$(_c2, \"GetProfilePosts\");\n$RefreshReg$(_c3, \"SearchProfiles\");\n$RefreshReg$(_c4, \"TextSearchProfiles\");\n$RefreshReg$(_c5, \"EditProfile\");","map":{"version":3,"sources":["C:/Users/LILKETRU/Desktop/openclassrooms/P7/Groupomania/front/src/services/profiles.service.js"],"names":["axios","BASE_URL","GetProfile","userId","options","headers","Authorization","sessionStorage","getItem","console","log","get","id","then","res","data","catch","err","GetProfilePosts","SearchProfiles","profiles","bodyParameters","post","TextSearchProfiles","query","EditProfile","profile","image","fm","FormData","append","put"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n\r\nconst BASE_URL = \"http://127.0.0.1:3000/api/\"\r\n\r\nexport const GetProfile = (userId) => {\r\n\r\n  const options = {\r\n        headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n    };\r\n    console.log(\"User id : \" + userId);\r\n    return axios.get(BASE_URL + 'profiles/'+userId.id,options)\r\n      .then((res) =>{\r\n        console.log(res.data);\r\n        return res.data;\r\n        })\r\n      .catch((err) => err);\r\n}\r\n\r\nexport const GetProfilePosts = (userId) => {\r\n\r\n  const options = {\r\n      headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n  };\r\n  console.log(userId.id);\r\n  return axios.get(BASE_URL + 'profiles/'+userId.id+'/posts',options)\r\n    .then((res) =>{\r\n      console.log(res.data);\r\n      return res.data;\r\n      })\r\n    .catch((err) => err);\r\n}\r\n\r\nexport const SearchProfiles = (profiles) => {\r\n\r\n  const options = {\r\n        headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n    };\r\n\r\n    const bodyParameters = {\r\n      userId : sessionStorage.getItem(\"userId\"),\r\n      profiles: profiles\r\n  };\r\n\r\n    return axios.post(BASE_URL + 'profiles/search',bodyParameters,options)\r\n      .then((res) =>{\r\n        return res.data;\r\n        })\r\n      .catch((err) => err);\r\n}\r\n\r\nexport const TextSearchProfiles = (query) => {\r\n\r\n  const options = {\r\n        headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n    };\r\n\r\n    const bodyParameters = {\r\n      userId : sessionStorage.getItem(\"userId\"),\r\n      query: query\r\n  };\r\n\r\n    return axios.post(BASE_URL + 'profiles/textsearch',bodyParameters,options)\r\n      .then((res) =>{\r\n        return res.data;\r\n        })\r\n      .catch((err) => err);\r\n}\r\n\r\nexport const EditProfile = (profile,data={}) => {\r\n\r\n  if(data !== {}){\r\n    data.userId = sessionStorage.getItem(\"userId\");\r\n    data.profile = profile;\r\n  }\r\n  const options = {\r\n        headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\"),\r\n        \"Content-Type\": \"multipart/form-data\" }\r\n    };\r\n\r\n    const bodyParameters = {\r\n      userId : sessionStorage.getItem(\"userId\"),\r\n      profile: profile,\r\n      image : data\r\n  };\r\n\r\n  let fm = new FormData();\r\n  fm.append(userId,bodyParameters.userId);\r\n  fm.append(bodyParameters.profile);\r\n  fm.append({image: data});\r\n  console.log(fm);\r\n\r\n    return axios.put(BASE_URL + 'profiles/'+profile.userId,bodyParameters,{\r\n      headers: {\r\n       Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n    })\r\n      .then((res) =>{\r\n        return res.data;\r\n        })\r\n      .catch((err) => err);\r\n}"]},"metadata":{},"sourceType":"module"}