{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LILKETRU\\\\Desktop\\\\openclassrooms\\\\P7\\\\Groupomania\\\\front\\\\src\\\\components\\\\Signup.js\";\nimport '../styles/Login.css';\nimport arrow from '../assets/Icons/arrow-right.webp';\nimport { SignupUser } from '../services/credentials.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Signup = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"SIGN UP :\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"login-form\",\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"e-mail address :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Password :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Confirm password :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password-confirm-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        name: \"submit\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"arrow-submit\",\n          src: arrow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Have an account ? : \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        onClick: handleClick,\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 36\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 9\n  }, this);\n};\n_c = Signup;\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  const email = e.target['email-input'].value;\n  const password = e.target['password-input'].value;\n  const passwordConfirm = e.target['password-confirm-input'].value;\n\n  if (password !== passwordConfirm) {\n    alert(\"Passwords do not match\");\n    return;\n  }\n\n  console.log(email + \" : \" + password);\n  SignupUser(email, password).then(data => {\n    if (data.token) {\n      sessionStorage.setItem(\"userId\", data.userId);\n      sessionStorage.setItem(\"token\", data.token);\n    }\n\n    window.location.reload();\n  });\n}\n\nfunction handleClick() {\n  let x = document.getElementById(\"login-component\");\n  let y = document.getElementById(\"signup-component\");\n  x.style.display = \"block\";\n  y.style.display = \"none\";\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["C:/Users/LILKETRU/Desktop/openclassrooms/P7/Groupomania/front/src/components/Signup.js"],"names":["arrow","SignupUser","Signup","e","handleSubmit","handleClick","preventDefault","email","target","value","password","passwordConfirm","alert","console","log","then","data","token","sessionStorage","setItem","userId","window","location","reload","x","document","getElementById","y","style","display"],"mappings":";AAAA,OAAO,qBAAP;AACA,OAAOA,KAAP,MAAkB,kCAAlB;AACA,SAAQC,UAAR,QAAyB,iCAAzB;;AAEA,OAAO,MAAMC,MAAM,GAAG,MAAM;AAExB,sBACI;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAM,MAAA,EAAE,EAAC,YAAT;AAAsB,MAAA,QAAQ,EAAGC,CAAD,IAAOC,YAAY,CAACD,CAAD,CAAnD;AAAA,8BAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAO,QAAA,IAAI,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAO,QAAA,IAAI,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,eAOI;AAAO,QAAA,IAAI,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,cAPJ,eAQI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA,+BAAsB;AAAK,UAAA,EAAE,EAAC,cAAR;AAAuB,UAAA,GAAG,EAAEH;AAA5B;AAAA;AAAA;AAAA;AAAA;AAAtB;AAAA;AAAA;AAAA;AAAA,cARJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAYI;AAAA,sDAAuB;AAAG,QAAA,IAAI,EAAC,GAAR;AAAY,QAAA,OAAO,EAAEK,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,YAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBH,CAlBM;KAAMH,M;;AAoBb,SAASE,YAAT,CAAsBD,CAAtB,EAAyB;AACrBA,EAAAA,CAAC,CAACG,cAAF;AACA,QAAMC,KAAK,GAAGJ,CAAC,CAACK,MAAF,CAAS,aAAT,EAAwBC,KAAtC;AACA,QAAMC,QAAQ,GAAGP,CAAC,CAACK,MAAF,CAAS,gBAAT,EAA2BC,KAA5C;AACA,QAAME,eAAe,GAAGR,CAAC,CAACK,MAAF,CAAS,wBAAT,EAAmCC,KAA3D;;AAEA,MAAGC,QAAQ,KAAKC,eAAhB,EAAgC;AAC5BC,IAAAA,KAAK,CAAC,wBAAD,CAAL;AACA;AACH;;AAEDC,EAAAA,OAAO,CAACC,GAAR,CAAYP,KAAK,GAAG,KAAR,GAAgBG,QAA5B;AACAT,EAAAA,UAAU,CAACM,KAAD,EAAOG,QAAP,CAAV,CAA2BK,IAA3B,CAAiCC,IAAD,IAAU;AACtC,QAAGA,IAAI,CAACC,KAAR,EAAc;AACVC,MAAAA,cAAc,CAACC,OAAf,CAAuB,QAAvB,EAAgCH,IAAI,CAACI,MAArC;AACAF,MAAAA,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAA+BH,IAAI,CAACC,KAApC;AACH;;AACDI,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAND;AAOH;;AAED,SAASlB,WAAT,GAAsB;AAClB,MAAImB,CAAC,GAAGC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CAAR;AACA,MAAIC,CAAC,GAAGF,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAAR;AACAF,EAAAA,CAAC,CAACI,KAAF,CAAQC,OAAR,GAAkB,OAAlB;AACAF,EAAAA,CAAC,CAACC,KAAF,CAAQC,OAAR,GAAkB,MAAlB;AAA4B","sourcesContent":["import '../styles/Login.css'\r\nimport arrow from '../assets/Icons/arrow-right.webp'\r\nimport {SignupUser} from '../services/credentials.service'\r\n\r\nexport const Signup = () => {\r\n\r\n    return (\r\n        <div>\r\n            <h1>SIGN UP :</h1>\r\n            <form id='login-form' onSubmit={(e) => handleSubmit(e)}>\r\n                \r\n                <p>e-mail address :</p>\r\n                <input name='email-input'></input>\r\n                <p>Password :</p>\r\n                <input name='password-input'></input>\r\n                <p>Confirm password :</p>\r\n                <input name='password-confirm-input'></input>\r\n                <button name='submit'><img id='arrow-submit' src={arrow}></img></button>\r\n            </form>\r\n            <p>Have an account ? : <a href='#' onClick={handleClick}>Log in</a></p>\r\n        </div>\r\n        )\r\n}\r\n\r\nfunction handleSubmit(e) {\r\n    e.preventDefault()\r\n    const email = e.target['email-input'].value;\r\n    const password = e.target['password-input'].value;\r\n    const passwordConfirm = e.target['password-confirm-input'].value;\r\n\r\n    if(password !== passwordConfirm){\r\n        alert(\"Passwords do not match\");\r\n        return;\r\n    }\r\n\r\n    console.log(email + \" : \" + password);\r\n    SignupUser(email,password).then((data) => {\r\n        if(data.token){\r\n            sessionStorage.setItem(\"userId\",data.userId)\r\n            sessionStorage.setItem(\"token\",data.token)\r\n        }\r\n        window.location.reload();\r\n    });\r\n}\r\n\r\nfunction handleClick(){\r\n    let x = document.getElementById(\"login-component\");\r\n    let y = document.getElementById(\"signup-component\");\r\n    x.style.display = \"block\";\r\n    y.style.display = \"none\";  }"]},"metadata":{},"sourceType":"module"}