{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = \"http://127.0.0.1:3000/api/secure/\";\nexport const GetUser = userId => {\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  };\n  return axios.get(BASE_URL + 'users/' + userId, options).then(res => {\n    console.log(res.data);\n    return res.data;\n  }).catch(err => err);\n};\n_c = GetUser;\nexport const EditUserPassword = (oldPassword, newPassword) => {\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  };\n  const bodyParameters = {\n    userId: sessionStorage.getItem(\"userId\"),\n    oldPassword: oldPassword,\n    newPassword: newPassword\n  };\n  return axios.put(BASE_URL + 'users/' + sessionStorage.getItem(\"userId\") + \"/changePassword\", bodyParameters, options).then(res => {\n    console.log(res);\n    return res;\n  }).catch(err => err);\n};\n_c2 = EditUserPassword;\nexport const EditUserEmail = email => {\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  };\n  const bodyParameters = {\n    userId: sessionStorage.getItem(\"userId\"),\n    newEmail: email\n  };\n  return axios.put(BASE_URL + 'users/' + sessionStorage.getItem(\"userId\") + \"/changeEmail\", bodyParameters, options).then(res => {\n    console.log(res);\n    return res;\n  }).catch(err => err);\n};\n_c3 = EditUserEmail;\nexport const DeleteUser = password => {\n  const options = {\n    headers: {\n      Authorization: 'Bearer ' + sessionStorage.getItem(\"token\")\n    }\n  };\n  const bodyParameters = {\n    userId: sessionStorage.getItem(\"userId\")\n  };\n  return axios.delete(BASE_URL + 'users/' + sessionStorage.getItem(\"userId\") + '/deleteUser', bodyParameters, options).then(res => {\n    console.log(res);\n    return res;\n  }).catch(err => err);\n};\n_c4 = DeleteUser;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"GetUser\");\n$RefreshReg$(_c2, \"EditUserPassword\");\n$RefreshReg$(_c3, \"EditUserEmail\");\n$RefreshReg$(_c4, \"DeleteUser\");","map":{"version":3,"sources":["C:/Users/LILKETRU/Desktop/openclassrooms/P7/Groupomania/front/src/services/accounts.service.js"],"names":["axios","BASE_URL","GetUser","userId","options","headers","Authorization","sessionStorage","getItem","get","then","res","console","log","data","catch","err","EditUserPassword","oldPassword","newPassword","bodyParameters","put","EditUserEmail","email","newEmail","DeleteUser","password","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n\r\nconst BASE_URL = \"http://127.0.0.1:3000/api/secure/\"\r\n\r\nexport const GetUser = (userId) => {\r\n\r\n  const options = {\r\n        headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n    };\r\n\r\n    return axios.get(BASE_URL + 'users/'+userId,options)\r\n      .then((res) =>{\r\n        console.log(res.data);\r\n        return res.data;\r\n        })\r\n      .catch((err) => err);\r\n}\r\n\r\nexport const EditUserPassword = (oldPassword,newPassword) => {\r\n\r\n  const options = {\r\n        headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n    };\r\n\r\n    const bodyParameters = {\r\n      userId : sessionStorage.getItem(\"userId\"),\r\n      oldPassword : oldPassword,\r\n      newPassword : newPassword\r\n  };\r\n\r\n  return axios.put(BASE_URL + 'users/'+sessionStorage.getItem(\"userId\")+\"/changePassword\",bodyParameters,options)\r\n      .then((res) =>{\r\n        console.log(res);\r\n        return res;\r\n        })\r\n      .catch((err) => err);\r\n}\r\n\r\nexport const EditUserEmail = (email) => {\r\n\r\n  const options = {\r\n        headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n    };\r\n\r\n    const bodyParameters = {\r\n      userId : sessionStorage.getItem(\"userId\"),\r\n      newEmail : email\r\n  };\r\n\r\n  return axios.put(BASE_URL + 'users/'+sessionStorage.getItem(\"userId\")+\"/changeEmail\",bodyParameters,options)\r\n      .then((res) =>{\r\n        console.log(res);\r\n        return res;\r\n        })\r\n      .catch((err) => err);\r\n}\r\n\r\nexport const DeleteUser = (password) => {\r\n\r\n  const options = {\r\n        headers: { Authorization: 'Bearer '+sessionStorage.getItem(\"token\") }\r\n    };\r\n\r\n  const bodyParameters = {\r\n      userId : sessionStorage.getItem(\"userId\"),\r\n    };\r\n\r\n  return axios.delete(BASE_URL + 'users/'+sessionStorage.getItem(\"userId\")+'/deleteUser',bodyParameters,options)\r\n      .then((res) =>{\r\n        console.log(res);\r\n        return res;\r\n        })\r\n      .catch((err) => err);\r\n}"]},"metadata":{},"sourceType":"module"}