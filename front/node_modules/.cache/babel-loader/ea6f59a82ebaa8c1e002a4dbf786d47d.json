{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LILKETRU\\\\Desktop\\\\openclassrooms\\\\P7\\\\Groupomania\\\\front\\\\src\\\\components\\\\Signup.js\";\nimport '../styles/Login.css';\nimport arrow from '../assets/Icons/arrow-right.webp';\nimport { SignupUser } from '../services/credentials.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Signup = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"SIGN UP :\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"login-form\",\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"* E-mail address :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"form-error\",\n        id: \"email-error\",\n        children: \"Invalid format !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"* Password :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"form-error\",\n        id: \"password-error\",\n        children: \"Password must be 8 characters long and contain at least: 1 uppercase letter, 1 lowercase letter, 1 digit, 1 special character\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"* Confirm password :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password-confirm-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"form-error\",\n        id: \"password-confirm-error\",\n        children: \"Passwords do not match !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"* First name :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"firstname-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"form-error\",\n        id: \"firstname-error\",\n        children: \"You must enter a name !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Last name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"lastname-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"A short description of you\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"description-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        name: \"submit\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"arrow-submit\",\n          src: arrow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Have an account ? : \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        onClick: handleClick,\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 36\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 9\n  }, this);\n};\n_c = Signup;\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  const email = e.target['email-input'].value;\n  const password = e.target['password-input'].value;\n  const passwordConfirm = e.target['password-confirm-input'].value;\n  const firstname = e.target['firstname-input'].value;\n  const lastname = e.target['lastname-input'].value;\n  const description = e.target['description-input'].value;\n  const emailValid = /^[A-Za-z0-9_-]+@\\w+\\.[a-z]+$/;\n  const passwordStrong = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/; //(?=.*[a-z]) : The string must contain at least 1 lowercase alphabetical character\n  //(?=.*[A-Z]) : The string must contain at least 1 uppercase alphabetical character\n  //(?=.*[0-9]) : The string must contain at least 1 numeric character\n  //(?=.*[!@#$%^&*]) : The string must contain at least one special character, but we are escaping reserved regex characters to avoid conflict\n  //(?=.{8,})\tThe string must be eight characters or longer\n\n  let pass = true;\n\n  if (!emailValid.test(email)) {\n    document.getElementById(\"email-error\").style.display = \"block\";\n    pass = false;\n  } else {\n    document.getElementById(\"email-error\").style.display = \"none\";\n  }\n\n  if (!passwordStrong.test(password)) {\n    document.getElementById(\"password-error\").style.display = \"block\";\n    pass = false;\n  } else {\n    document.getElementById(\"password-error\").style.display = \"none\";\n  }\n\n  if (password !== passwordConfirm) {\n    document.getElementById(\"password-confirm-error\").style.display = \"block\";\n    pass = false;\n  } else {\n    document.getElementById(\"password-confirm-error\").style.display = \"none\";\n  }\n\n  if (firstname === \"\") {\n    document.getElementById(\"firstname-error\").style.display = \"block\";\n    pass = false;\n  } else {\n    document.getElementById(\"firstname-error\").style.display = \"none\";\n  }\n\n  if (pass) {\n    SignupUser(email, password, firstname, lastname, description).then(data => {\n      if (data.token) {\n        sessionStorage.setItem(\"userId\", data.userId);\n        sessionStorage.setItem(\"token\", data.token);\n        window.location.reload();\n      } else {\n        alert(\"Error during the reg\");\n      }\n    });\n  }\n}\n\nfunction handleClick() {\n  let x = document.getElementById(\"login-component\");\n  let y = document.getElementById(\"signup-component\");\n  x.style.display = \"block\";\n  y.style.display = \"none\";\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["C:/Users/LILKETRU/Desktop/openclassrooms/P7/Groupomania/front/src/components/Signup.js"],"names":["arrow","SignupUser","Signup","e","handleSubmit","handleClick","preventDefault","email","target","value","password","passwordConfirm","firstname","lastname","description","emailValid","passwordStrong","pass","test","document","getElementById","style","display","then","data","token","sessionStorage","setItem","userId","window","location","reload","alert","x","y"],"mappings":"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","sourcesContent":["import '../styles/Login.css'\r\nimport arrow from '../assets/Icons/arrow-right.webp'\r\nimport {SignupUser} from '../services/credentials.service'\r\n\r\nexport const Signup = () => {\r\n\r\n    return (\r\n        <div>\r\n            <h1>SIGN UP :</h1>\r\n            <form id='login-form' onSubmit={(e) => handleSubmit(e)}>\r\n                \r\n                <p>* E-mail address :</p>\r\n                <input name='email-input'></input>\r\n                <p className='form-error' id='email-error'>Invalid format !</p>\r\n                <p>* Password :</p>\r\n                <input name='password-input'></input>\r\n                <p className='form-error' id='password-error'>Password must be 8 characters long and contain at least: 1 uppercase letter, 1 lowercase letter, 1 digit, 1 special character</p>\r\n                <p>* Confirm password :</p>\r\n                <input name='password-confirm-input'></input>\r\n                <p className='form-error' id='password-confirm-error'>Passwords do not match !</p>\r\n                <p>* First name :</p>\r\n                <input name='firstname-input'></input>\r\n                <p className='form-error' id='firstname-error'>You must enter a name !</p>\r\n                <p>Last name</p>\r\n                <input name='lastname-input'></input>\r\n                <p>A short description of you</p>\r\n                <input name='description-input'></input>\r\n                <button name='submit'><img id='arrow-submit' src={arrow}></img></button>\r\n            </form>\r\n            <p>Have an account ? : <a href='#' onClick={handleClick}>Log in</a></p>\r\n        </div>\r\n        )\r\n}\r\n\r\nfunction handleSubmit(e) {\r\n    e.preventDefault()\r\n    const email = e.target['email-input'].value;\r\n    const password = e.target['password-input'].value;\r\n    const passwordConfirm = e.target['password-confirm-input'].value;\r\n    const firstname = e.target['firstname-input'].value;\r\n    const lastname = e.target['lastname-input'].value;\r\n    const description = e.target['description-input'].value;\r\n\r\n    const emailValid = /^[A-Za-z0-9_-]+@\\w+\\.[a-z]+$/;\r\n    const passwordStrong = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/;\r\n    //(?=.*[a-z]) : The string must contain at least 1 lowercase alphabetical character\r\n    //(?=.*[A-Z]) : The string must contain at least 1 uppercase alphabetical character\r\n    //(?=.*[0-9]) : The string must contain at least 1 numeric character\r\n    //(?=.*[!@#$%^&*]) : The string must contain at least one special character, but we are escaping reserved regex characters to avoid conflict\r\n    //(?=.{8,})\tThe string must be eight characters or longer\r\n    let pass = true;\r\n    if(!emailValid.test(email)){\r\n        document.getElementById(\"email-error\").style.display = \"block\";\r\n        pass = false;\r\n    }\r\n    else{\r\n        document.getElementById(\"email-error\").style.display = \"none\";\r\n    }\r\n    if(!passwordStrong.test(password)){\r\n        document.getElementById(\"password-error\").style.display = \"block\";\r\n        pass = false;\r\n    }\r\n    else{\r\n        document.getElementById(\"password-error\").style.display = \"none\";\r\n    }\r\n    if(password !== passwordConfirm){\r\n        document.getElementById(\"password-confirm-error\").style.display = \"block\";\r\n        pass = false;\r\n    }\r\n    else{\r\n        document.getElementById(\"password-confirm-error\").style.display = \"none\";\r\n    }\r\n    if(firstname === \"\"){\r\n        document.getElementById(\"firstname-error\").style.display = \"block\";\r\n        pass = false;\r\n    }\r\n    else{\r\n        document.getElementById(\"firstname-error\").style.display = \"none\";\r\n    }\r\n    if(pass){\r\n        SignupUser(email,password,firstname,lastname,description).then((data) => {\r\n            if(data.token){\r\n                sessionStorage.setItem(\"userId\",data.userId)\r\n                sessionStorage.setItem(\"token\",data.token)\r\n                window.location.reload();\r\n            }else{\r\n                alert(\"Error during the reg\")\r\n            }\r\n        });\r\n    }    \r\n}\r\n\r\nfunction handleClick(){\r\n    let x = document.getElementById(\"login-component\");\r\n    let y = document.getElementById(\"signup-component\");\r\n    x.style.display = \"block\";\r\n    y.style.display = \"none\";  \r\n}"]},"metadata":{},"sourceType":"module"}